import{_ as he}from"./BVNS8jjM.js";import{K as _e,L as be,_ as k,M as Se,aD as ye,aC as xe,q as Q,ah as D,O as se,H as ie,h as Y,aS as X,ac as Oe,aF as ce,b as r,I as E,U as Ce,f as ze,aP as $e,aI as Z,u as Le,s as Pe,bc as Ae,r as R,a5 as j,o as P,x as M,w as i,a as d,$ as A,c as ae,a6 as we,F as ke,t as I,a1 as Re,ae as Me,af as je,al as Ee,a0 as Be}from"./DutA6s4s.js";import{L as He}from"./Dl-JAueD.js";import{R as G,U as q}from"./DLYfQNET.js";import{R as Ne,L as De}from"./BEw11EN_.js";import{M as Fe}from"./fAwOVESI.js";import{c as Ie,_ as Ge,B as Te}from"./o1aMqsoj.js";import{_ as Ue,M as We}from"./JmFmEmiP.js";import{_ as Ve,a as Xe,L as qe}from"./Tss58tcD.js";import{e as Ye,S as Je}from"./CArfcuWs.js";import{u as Qe}from"./BhUrNZtK.js";import{r as Ze}from"./DqJXAqIy.js";import{R as Ke}from"./D-QVxuq2.js";import{_ as ue}from"./C2x6kZgX.js";import{U as et}from"./CpCLeKBI.js";import"./DlAUqK2U.js";import"./BKdPbglU.js";import"./DGYNie3Z.js";import"./CXt5RldZ.js";import"./BSJ7Y3lW.js";const tt=e=>{const{antCls:t,componentCls:n,iconCls:a,avatarBg:o,avatarColor:h,containerSize:c,containerSizeLG:f,containerSizeSM:x,textFontSize:_,textFontSizeLG:v,textFontSizeSM:O,borderRadius:s,borderRadiusLG:u,borderRadiusSM:C,lineWidth:g,lineType:b}=e,p=(S,l,m)=>({width:S,height:S,lineHeight:`${S-g*2}px`,borderRadius:"50%",[`&${n}-square`]:{borderRadius:m},[`${n}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${n}-icon`]:{fontSize:l,[`> ${a}`]:{margin:0}}});return{[n]:k(k(k(k({},Se(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:h,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${g}px ${b} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),p(c,_,s)),{"&-lg":k({},p(f,v,u)),"&-sm":k({},p(x,O,C)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},nt=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:a,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:a}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},de=_e("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,a=be(e,{avatarBg:n,avatarColor:t});return[tt(a),nt(a)]},e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:a,fontSize:o,fontSizeLG:h,fontSizeXL:c,fontSizeHeading3:f,marginXS:x,marginXXS:_,colorBorderBg:v}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:a,textFontSize:Math.round((h+c)/2),textFontSizeLG:f,textFontSizeSM:o,groupSpace:_,groupOverlapping:-x,groupBorderColor:v}}),pe=Symbol("AvatarContextKey"),at=()=>ye(pe,{}),ot=e=>xe(pe,e),rt=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:Ce.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),B=Q({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:rt(),slots:Object,setup(e,t){let{slots:n,attrs:a}=t;const o=D(!0),h=D(!1),c=D(1),f=D(null),x=D(null),{prefixCls:_}=se("avatar",e),[v,O]=de(_),s=at(),u=ie(()=>e.size==="default"?s.size:e.size),C=Qe(),g=Ye(()=>{if(typeof e.size!="object")return;const l=Ze.find(z=>C.value[z]);return e.size[l]}),b=l=>g.value?{width:`${g.value}px`,height:`${g.value}px`,lineHeight:`${g.value}px`,fontSize:`${l?g.value/2:18}px`}:{},p=()=>{if(!f.value||!x.value)return;const l=f.value.offsetWidth,m=x.value.offsetWidth;if(l!==0&&m!==0){const{gap:z=4}=e;z*2<m&&(c.value=m-z*2<l?(m-z*2)/l:1)}},S=()=>{const{loadError:l}=e;(l==null?void 0:l())!==!1&&(o.value=!1)};return Y(()=>e.src,()=>{X(()=>{o.value=!0,c.value=1})}),Y(()=>e.gap,()=>{X(()=>{p()})}),Oe(()=>{X(()=>{p(),h.value=!0})}),()=>{var l,m;const{shape:z,src:H,alt:U,srcset:W,draggable:F,crossOrigin:$}=e,y=(l=s.shape)!==null&&l!==void 0?l:z,L=ce(n,e,"icon"),w=_.value,me={[`${a.class}`]:!!a.class,[w]:!0,[`${w}-lg`]:u.value==="large",[`${w}-sm`]:u.value==="small",[`${w}-${y}`]:!0,[`${w}-image`]:H&&o.value,[`${w}-icon`]:L,[O.value]:!0},fe=typeof u.value=="number"?{width:`${u.value}px`,height:`${u.value}px`,lineHeight:`${u.value}px`,fontSize:L?`${u.value/2}px`:"18px"}:{},ne=(m=n.default)===null||m===void 0?void 0:m.call(n);let N;if(H&&o.value)N=r("img",{draggable:F,src:H,srcset:W,onError:S,alt:U,crossorigin:$},null);else if(L)N=L;else if(h.value||c.value!==1){const V=`scale(${c.value}) translateX(-50%)`,ve={msTransform:V,WebkitTransform:V,transform:V},ge=typeof u.value=="number"?{lineHeight:`${u.value}px`}:{};N=r(Ke,{onResize:p},{default:()=>[r("span",{class:`${w}-string`,ref:f,style:k(k({},ge),ve)},[ne])]})}else N=r("span",{class:`${w}-string`,ref:f,style:{opacity:0}},[ne]);return v(r("span",E(E({},a),{},{ref:x,class:me,style:[fe,b(!!L),a.style]}),[N]))}}}),lt=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),J=Q({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:lt(),setup(e,t){let{slots:n,attrs:a}=t;const{prefixCls:o,direction:h}=se("avatar",e),c=ie(()=>`${o.value}-group`),[f,x]=de(o);return ze(()=>{const _={size:e.size,shape:e.shape};ot(_)}),()=>{const{maxPopoverPlacement:_="top",maxCount:v,maxStyle:O,maxPopoverTrigger:s="hover",shape:u}=e,C={[c.value]:!0,[`${c.value}-rtl`]:h.value==="rtl",[`${a.class}`]:!!a.class,[x.value]:!0},g=ce(n,e),b=$e(g).map((S,l)=>Ie(S,{key:`avatar-key-${l}`})),p=b.length;if(v&&v<p){const S=b.slice(0,v),l=b.slice(v,p);return S.push(r(ue,{key:"avatar-popover-key",content:l,trigger:s,placement:_,overlayClassName:`${c.value}-popover`},{default:()=>[r(B,{style:O,shape:u},{default:()=>[`+${p-v}`]})]})),f(r("div",E(E({},a),{},{class:C,style:a.style}),[S]))}return f(r("div",E(E({},a),{},{class:C,style:a.style}),[b]))}}});B.Group=J;B.install=function(e){return e.component(B.name,B),e.component(J.name,J),e};var st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"};function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){it(e,o,n[o])})}return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(t,n){var a=oe({},t,n.attrs);return r(Z,oe({},a,{icon:st}),null)};K.displayName="DatabaseOutlined";K.inheritAttrs=!1;var ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"};function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){ut(e,o,n[o])})}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(t,n){var a=re({},t,n.attrs);return r(Z,re({},a,{icon:ct}),null)};ee.displayName="ExperimentOutlined";ee.inheritAttrs=!1;var dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),a.forEach(function(o){pt(e,o,n[o])})}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=function(t,n){var a=le({},t,n.attrs);return r(Z,le({},a,{icon:dt}),null)};te.displayName="LoginOutlined";te.inheritAttrs=!1;var T=(e=>(e.ALL="all",e.COMPANY="company",e.USER="user",e))(T||{});const mt={class:"h-[48px] p-2 flex justify-between"},ft={class:"pt-4 border-solid border-transparent border-t-gray-200 border-0 border-t-[1px] h-full border-r-[1px] border-r-gray-200"},vt={class:"h-[48px] flex bg-white px-8 justify-between"},gt={class:"flex items-center gap-4"},ht={class:"w-[60px]"},_t=["aria-label"],bt={class:"flex gap-8 items-center"},St={key:0},yt=d("span",null,"Настройки",-1),xt=d("span",null,"Выход",-1),Ot={class:"flex items-center gap-2 hover:bg-gray-200 px-2 py-1 rounded-lg"},Ct={class:"transition-all"},zt={class:"bg-white h-full border-solid border-transparent border-t-gray-200 border-0 border-t-[1px]"},Vt=Q({__name:"PlatformLayout",setup(e){const t=Le(),n=Pe(),{user:a}=Ae(n),o=R(!1);R(["1"]);const h=R(!1),c=R(["ru"]),f=R([{value:"ru",icon:"🇷🇺"},{value:"en",icon:"🇬🇧"}]),x=R([{to:G.WORKSPACE_COMPANY,title:"Пользователи",permission:T.ALL,icon:j(K)},{to:G.WORKSPACE_USERS,title:"Пользователи",permission:T.ALL,icon:j(q)},{to:G.RECORDS,title:"Мое пространство",permission:T.ALL,icon:j(ee)}]),_=R("Компания");console.log(a.value);const v=()=>{console.log("clicked"),Fe.confirm({title:"Do you Want to delete these items?",icon:j(Ee),onOk(){n.logout(),t.push("/login")},onCancel(){}})};return Y(c,O=>{console.log("selected:",O)}),(O,s)=>{const u=Ge,C=he,g=Te,b=Ue,p=We,S=Xe,l=Je,m=te,z=B,H=et,U=ue,W=qe,F=Ve;return P(),M(F,{class:"h-full"},{default:i(()=>[r(S,{collapsed:o.value,"onUpdate:collapsed":s[2]||(s[2]=$=>o.value=$),trigger:null,collapsible:"",theme:"light"},{default:i(()=>[d("div",mt,[r(C,{to:"/platform",class:"text-black"},{default:i(()=>[r(u,{title:"Вернуть на главную"},{default:i(()=>[r(A(He))]),_:1})]),_:1}),o.value?(P(),M(g,{key:0,size:"medium",icon:j(A(Ne)),onClick:s[0]||(s[0]=()=>o.value=!o.value)},null,8,["icon"])):(P(),M(g,{key:1,size:"medium",icon:j(A(De)),onClick:s[1]||(s[1]=()=>o.value=!o.value)},null,8,["icon"]))]),d("div",ft,[r(p,{mode:"inline",style:{border:"none"}},{default:i(()=>[(P(!0),ae(ke,null,we(x.value,($,y)=>(P(),M(b,{key:y},{default:i(()=>[r(C,{to:$.to},{default:i(()=>[(P(),M(Be($.icon))),d("span",null,I($.title),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])]),_:1},8,["collapsed"]),r(F,null,{default:i(()=>{var $;return[d("header",vt,[d("div",gt,[d("div",ht,[r(l,{value:c.value,"onUpdate:value":s[3]||(s[3]=y=>c.value=y),"option-label-prop":"icon",options:f.value,class:"w-full"},{option:i(({value:y,icon:L})=>[d("span",{role:"img","aria-label":y},I(L),9,_t)]),_:1},8,["value","options"])])]),d("div",bt,[($=A(a))!=null&&$.companyId?(P(),ae("div",St,I(_.value),1)):Re("",!0),r(U,{open:h.value,"onUpdate:open":s[4]||(s[4]=y=>h.value=y),trigger:"click"},{content:i(()=>[r(p,{style:{border:"none"},selectable:!1},{default:i(()=>[r(b,{key:"1"},{default:i(()=>[r(C,{to:A(G).SETTINGS},{default:i(()=>[r(A(q)),yt]),_:1},8,["to"])]),_:1}),r(b,{key:"3"},{default:i(()=>[d("div",{class:"flex",onClick:v},[r(m),xt])]),_:1})]),_:1})]),default:i(()=>{var y,L;return[d("div",Ot,[(y=A(a))!=null&&y.avatar?(P(),M(z,{key:1,src:O.userAvatar},null,8,["src"])):(P(),M(z,{key:0,style:{"background-color":"#87d068"}},{icon:i(()=>[r(A(q))]),_:1})),d("div",null,I((L=A(a))==null?void 0:L.email),1),d("div",Ct,[r(H,{class:Me([{"rotate-180 transition-all":!h.value},"transition-all duration-500"])},null,8,["class"])])])]}),_:1},8,["open"])])]),r(W,null,{default:i(()=>[d("div",zt,[je(O.$slots,"default")])]),_:3})]}),_:3})]),_:3})}}});export{Vt as default};
